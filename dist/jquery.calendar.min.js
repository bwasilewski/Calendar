/*
 *  jquery-calendar - v1.0.0
 *  A simple jquery Calendar plugin.
 *  http://benwas.com
 *
 *  Made by Benjamin Wasilewski
 *  Under MIT License
 */
!function(a,b,c,d){"use strict";function e(b,c){this.element=b,this.settings=a.extend({},j,c),this._defaults=j,this._name=f,this.init()}console.log("fart");var f="Calendar",g=new Date,h=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i=["January","February","March","April","May","June","July","August","September","October","November","December"],j={calendarAttrs:{class:"apervita-calendar"},calendarHeaderAttributes:{class:"dayLabels"},cellAttributes:{class:"dateCell"},containerAttrs:{class:"apervita-calendar-container"},message:"New jQuery Plugin!",monthSelectorAttributes:{class:"month-selector"},nextMonthClassName:"next",nextMonthSelector:".next",previousMonthClassName:"prev",previousMonthSelector:".prev",rowAttributes:{class:"dateRow"},tableAttributes:{class:"date-table"},title:"jQuery Calendar by Ben Wasilewski",yearSelectorAttributes:{class:"year-selector"}};a.extend(e.prototype,{init:function(){var b=this;this.calendarDate=new Date,this.todaysDate=new Date,this.date=this.calendarDate.getDate(),this.day=this.calendarDate.getDay(),this.month=this.calendarDate.getMonth(),this.year=this.calendarDate.getFullYear(),this.container=a("<div />"),this.titleLabel=a("<p />",{class:"calendar-title"}),this.currentLabel=a("<p />",{class:"current-label"}),this.displayLabel=a("<p />",{class:"display-label"}),this.calendarHeader=a("<thead />",this.settings.calendarHeaderAttributes).html("<tr><th>S</th><th>M</th><th>T</th><th>W</th><th>T</th><th>F</th><th>S</th></tr>"),this.selectors=a("<form />",{class:"selectors"}),this.monthSelector=a("<select />",this.settings.monthSelectorAttributes),this.yearSelector=a("<select />",this.settings.yearSelectorAttributes),this.table=a("<table />",this.settings.tableAttributes),this.row=a("<tr />",this.settings.rowAttributes),this.rows=[],this.cell=a("<td />",this.settings.cellAttributes),this.nextButton=a("<button />",{class:b.settings.nextMonthClassName}).text("Next"),this.previousButton=a("<button />",{class:b.settings.previousMonthClassName}).text("Previous"),this.container.attr(this.settings.containerAttrs).appendTo(this.element),this.titleLabel.appendTo(this.container).text(this.settings.title),this.currentLabel.appendTo(this.container).text("Current Label"),this.displayLabel.appendTo(this.container).text("Display Label"),this.previousButton.appendTo(this.container),this.selectors.appendTo(this.container),this.monthSelector.appendTo(this.selectors),this.yearSelector.appendTo(this.selectors),this.nextButton.appendTo(this.container),this.table.attr(this.settings.calendarAttrs).appendTo(this.container),this.calendarHeader.attr(this.settings.calendarHeaderAttributes).appendTo(this.table),this.drawCalendar(),this.populateSelectors(),this.nextButton.bind("click",function(){var a=11===b.month?0:b.month+1,c=11===b.month?b.year+1:b.year;console.log("Month: ",b.month),console.log("Next Month: ",a),b.updateCalendar(b.element,a,c)}),this.previousButton.bind("click",function(){var a=0===b.month?11:b.month-1,c=0===b.month?b.year-1:b.year;console.log("Month: ",b.month),console.log("Next Month: ",a),b.updateCalendar(b.element,a,c)})},drawCalendar:function(){var b=this,c=[];a(".dateRow",this.table).remove();for(var d=0;d<6;d++)c.push(this.row.clone().appendTo(this.table));a.each(c,function(a,c){for(var d=0;d<7;d++)b.cell.clone().appendTo(c)}),this.createDateArray()},createDateArray:function(){var b=[],c=this.getFirstDay(this.month,this.year),d=this.daysInMonth(this.month,this.year),e=this.month>0?this.month-1:11,f=this.month>0?this.year:this.year-1,g=this.daysInMonth(e,f),h=0,i=a(".dateCell").length,j=0;h=0===c?g-6:g-(c-1);for(var k=h;k<=g;k++)b.push({date:k,className:"prevDate"}),h++;for(var l=1;l<=d;l++)b.push({date:l,className:"currentDate"});j=i-b.length;for(var m=1;m<=j;m++)b.push({date:m,className:"postDate"});a.each(a(".dateCell",this.table),function(c,d){a(d).addClass(b[c].className).html(b[c].date)})},getFirstDay:function(a,b){var c=new Date;return c.setFullYear(b),c.setMonth(a),c.setDate(1),c.getDay()},daysInMonth:function(a,b){return 32-new Date(b,a,32).getDate()},populateSelectors:function(){for(var b=this.monthSelector,c=this.yearSelector,d=this.year-20,e=this.year+20,f=d;f<e;f++)c.append('<option value="'+f+'">'+f+"</option>"),f===this.year&&c.find("option").last().attr("selected","selected");a.each(i,function(a,c){b.append('<option value="'+a+'">'+c+"</option>")}),this.updateSelectors(this.month,this.year)},updateSelectors:function(a,b){this.monthSelector.val(a),this.yearSelector.val(b)},updateCalendar:function(a,b,c){g.setMonth(b),g.setFullYear(c),this.month=g.getMonth(),this.year=g.getFullYear(),this.updateHeaders(a),this.drawCalendar(a,this.month,this.year),this.updateSelectors(b,c)},updateHeaders:function(){this.currentLabel.html(h[this.todaysDate.getDay()]+", "+i[this.todaysDate.getMonth()]+" "+this.getOrdinal(this.todaysDate.getDate())+", "+this.todaysDate.getFullYear()),this.displayLabel.html(i[this.month]+" "+this.year)},getOrdinal:function(a){var b=["th","st","nd","rd"],c=a%100;return a+(b[(c-20)%10]||b[c]||b[0])}}),a.fn[f]=function(b){return this.each(function(){a.data(this,"plugin_"+f)||a.data(this,"plugin_"+f,new e(this,b))})}}(jQuery,window,document);